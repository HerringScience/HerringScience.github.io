ggplot(Plan2, aes(x=X, y=Y)) +
geom_line(data = Plan2, aes(x = X, y = Y, xend = Xend, yend = Yend))
ggplot(Plan2, aes(x=X, y=Y)) +
geom_segment(data = Plan2, aes(x = X, y = Y, xend = Xend, yend = Yend, group = Vessel))
ggplot(Plan2, aes(x=X, y=Y, group = Vessel))
ggplot(Plan2, aes(x=X, y=Y, group = Vessel)) +
geom_segment(data = Plan2, aes(x = X, y = Y, xend = Xend, yend = Yend))
ggplot(Plan2, aes(x=X, y=Y)) +
geom_polygon(data=GBout,aes(x=long, y=lat, group=group), fill = "gray") +
geom_polygon(data=GBCTD,aes(x=X, y=Y, group=PID),fill='white',col='black') +
geom_segment(aes(x = X, y = Y, xend = Xend, yend = Yend, colour = Vessel), size=1) +
coord_map() +
labs(x=NULL, y=NULL, caption = "Figure 1. Survey lines to be completed by participating vessels.")
geom_polygon(data=SBout,aes(x=long, y=lat, group=group), fill = "gray") +
geom_polygon(data=SBplankton,aes(x=X, y=Y, group=PID),fill='white',col='black') +
geom_polygon(data=SBCTD,aes(x=X, y=Y, group=PID),fill='white',col='black') +
geom_segment(data=Plan2, aes(x = X, y = Y, xend = Xend, yend = Yend, colour = Vessel), size=0.5) +
coord_map() +
labs(x=NULL, y=NULL, caption = "Figure 1. Survey lines to be completed by participating vessels.")
ggplot(Plan2, aes(x=X, y=Y)) +
geom_polygon(data=SBout,aes(x=long, y=lat, group=group), fill = "gray") +
geom_polygon(data=SBplankton,aes(x=X, y=Y, group=PID),fill='white',col='black') +
geom_polygon(data=SBCTD,aes(x=X, y=Y, group=PID),fill='white',col='black') +
geom_segment(data=Plan2, aes(x = X, y = Y, xend = Xend, yend = Yend, colour = Vessel), size=0.5) +
coord_map() +
labs(x=NULL, y=NULL, caption = "Figure 1. Survey lines to be completed by participating vessels.")
ggplot(Plan2, aes(x=X, y=Y)) +
geom_point()
ggplot(Plan2, aes(x=X, y=Y)) +
geom_polygon(data=GBout,aes(x=long, y=lat, group=group), fill = "gray") +
geom_polygon(data=GBCTD,aes(x=X, y=Y, group=PID),fill='white',col='black') +
geom_segment(x = X, y = Y, xend = Xend, yend = Yend, colour = Vessel, size=1) +
coord_map() +
labs(x=NULL, y=NULL, caption = "Figure 1. Survey lines to be completed by participating vessels.")
Plan2 = Plan %>%
dplyr::select(X = "Start Lon", Y = "Start Lat", Xend = "End Lon", Yend = "End Lat", Vessel)
if(surv=="GB"){
a =
ggplot(Plan2, aes(x=X, y=Y)) +
geom_segment(aes(x = X, y = Y, xend = Xend, yend = Yend, colour = Vessel), size=1) +
geom_polygon(data=GBout,aes(x=long, y=lat, group=group), fill = "gray") +
geom_polygon(data=GBCTD,aes(x=X, y=Y, group=PID),fill='white',col='black') +
coord_map() +
labs(x=NULL, y=NULL, caption = "Figure 1. Survey lines to be completed by participating vessels.")}
a
# remove everything in the workspace
rm(list = ls())
# IMPORTANT : SET GROUND, YEAR, AND SURVEY # HERE
surv="SB" #SB or GB
surv2="Scots Bay" #"German Bank" or "Scots Bay" as written
year="2023"
surv.no="6"
adhoc = "FALSE" #true or false if an adhoc survey was completed (and "adhoc.csv" exists)
Sample = "Y" #whether ("Y") or not ("N") they caught fish during this survey window
Tow = "Y" #whether or not plankton tow(s) were conducted
#Set vessels for SB only
ids = c("FM", "LB", "LJ", "SL") #only main box vessels
#Area and TS values
SB1= 661 #SB main area
SB2= 77 #SB north area
SB3= 115 #SB east area
GB1 = 805 #GB main area
GB2 = 267 #Seal Island area
GB3 = NA #Ad-hoc school survey area
##
###
##
#BELOW VALUES SHOULD RARELY CHANGE#
TS1 = -35.5 #TS38
#turnover calculation regression values
GB_y = 0.199392662629964
GB_x_var = 0.528381832773883
GB_days = 31
SB_y = 0.364102758434224
SB_x_var = 0.436969270679439
SB_days = 29
library(rlang)
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
#get Ruskin data
if(Tow == "Y"){
TowData = read_csv(paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.csv"))
}
View(TowData)
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Source Data/")
Survey = read_csv("planktonsamplingData.csv")
Survey = Survey %>%
mutate(Day = as.numeric(substr(Date, 1, 2)),
Month = as.numeric(substr(Date, 4, 5)),
Year = as.numeric(substr(Date, 7, 10)))
Survey = Survey %>% filter(Year == year & Ground == surv & Survey.No == surv.no)
##Survey Data import and filtering
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Source Data/")
setwd("C:/Users/", Sys.info()[7], "/Documents/GitHub/HerringScience.github.io/Source Data/")
Survey = read_csv("planktonsamplingData.csv")
Survey = Survey %>%
mutate(Day = as.numeric(substr(Date, 1, 2)),
Month = as.numeric(substr(Date, 4, 5)),
Year = as.numeric(substr(Date, 7, 10)))
Survey = Survey %>% filter(Year == year & Ground == surv & Survey.No == surv.no)
##Survey Data import and filtering
setwd("C:/Users/", Sys.info()[7], "/Documents/GitHub/HerringScience.github.io/Source Data/")
##Survey Data import and filtering
setwd(paste0("C:/Users/", Sys.info()[7], "/Documents/GitHub/HerringScience.github.io/Source Data/"))
Survey = read_csv("planktonsamplingData.csv")
Survey = Survey %>%
mutate(Day = as.numeric(substr(Date, 1, 2)),
Month = as.numeric(substr(Date, 4, 5)),
Year = as.numeric(substr(Date, 7, 10)))
Survey = Survey %>% filter(Year == year & Ground == surv & Survey.No == surv.no)
View(Survey)
Survey = Survey %>%
mutate(Sample = ifelse(Sample == "Y", "Y", "N"))
Survey = Survey %>%
mutate(Sample2 = ifelse(Sample == "Y", "Y", "N"))
setwd(paste0("C:/Users/", Sys.info()[7], "/Documents/GitHub/HerringScience.github.io/Source Data/"))
Survey = read_csv("planktonsamplingData.csv")
Survey = Survey %>%
mutate(Day = as.numeric(substr(Date, 1, 2)),
Month = as.numeric(substr(Date, 4, 5)),
Year = as.numeric(substr(Date, 7, 10)))
Survey = Survey %>% filter(Year == year & Ground == surv & Survey.No == surv.no)
if(Sample == "Y"){Survey$Sample == "Y"}
if(Sample == "N"){Survey$Sample == "N"}
View(Survey)
setwd(paste0("C:/Users/", Sys.info()[7], "/Documents/GitHub/HerringScience.github.io/Source Data/"))
Survey = read_csv("planktonsamplingData.csv")
Survey = Survey %>%
mutate(Day = as.numeric(substr(Date, 1, 2)),
Month = as.numeric(substr(Date, 4, 5)),
Year = as.numeric(substr(Date, 7, 10)))
Survey = Survey %>% filter(Year == year & Ground == surv & Survey.No == surv.no)
if(Sample == "Y"){Survey$Sample = "Y"}
if(Sample == "N"){Survey$Sample = "N"}
# remove everything in the workspace
rm(list = ls())
# IMPORTANT : SET GROUND, YEAR, AND SURVEY # HERE
surv="GB" #SB or GB
surv2="German Bank" #"German Bank" or "Scots Bay" as written
year="2023"
surv.no="1"
adhoc = "FALSE" #true or false if an adhoc survey was completed (and "adhoc.csv" exists)
Sample = "Y" #whether ("Y") or not ("N") they caught fish during this survey window
Tow = "Y" #whether or not plankton tow(s) were conducted
#Set vessels for SB only
ids = c("FM", "LB", "LJ", "SL") #only main box vessels
#Area and TS values
SB1= 661 #SB main area
SB2= 77 #SB north area
SB3= 115 #SB east area
GB1 = 805 #GB main area
GB2 = 267 #Seal Island area
GB3 = NA #Ad-hoc school survey area
##
###
##
#BELOW VALUES SHOULD RARELY CHANGE#
TS1 = -35.5 #TS38
#turnover calculation regression values
GB_y = 0.199392662629964
GB_x_var = 0.528381832773883
GB_days = 31
SB_y = 0.364102758434224
SB_x_var = 0.436969270679439
SB_days = 29
library(rlang)
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
##Survey Data import and filtering
setwd(paste0("C:/Users/", Sys.info()[7], "/Documents/GitHub/HerringScience.github.io/Source Data/"))
Survey = read_csv("planktonsamplingData.csv")
Survey = Survey %>%
mutate(Day = as.numeric(substr(Date, 1, 2)),
Month = as.numeric(substr(Date, 4, 5)),
Year = as.numeric(substr(Date, 7, 10)))
Survey = Survey %>% filter(Year == year & Ground == surv & Survey.No == surv.no)
if(Sample == "Y"){Survey$Sample = "Y"}
if(Sample == "N"){Survey$Sample = "N"}
View(Survey)
# remove everything in the workspace
rm(list = ls())
# IMPORTANT : SET GROUND, YEAR, AND SURVEY # HERE
surv="GB" #SB or GB
surv2="German Bank" #"German Bank" or "Scots Bay" as written
year="2023"
surv.no="1"
adhoc = "FALSE" #true or false if an adhoc survey was completed (and "adhoc.csv" exists)
Sample = "Y" #whether ("Y") or not ("N") they caught fish during this survey window
Tow = "Y" #whether or not plankton tow(s) were conducted
#Set vessels for SB only
ids = c("FM", "LB", "LJ", "SL") #only main box vessels
#Area and TS values
SB1= 661 #SB main area
SB2= 77 #SB north area
SB3= 115 #SB east area
GB1 = 805 #GB main area
GB2 = 267 #Seal Island area
GB3 = NA #Ad-hoc school survey area
##
###
##
#BELOW VALUES SHOULD RARELY CHANGE#
TS1 = -35.5 #TS38
#turnover calculation regression values
GB_y = 0.199392662629964
GB_x_var = 0.528381832773883
GB_days = 31
SB_y = 0.364102758434224
SB_x_var = 0.436969270679439
SB_days = 29
library(rlang)
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
##Survey Data import and filtering
setwd(paste0("C:/Users/", Sys.info()[7], "/Documents/GitHub/HerringScience.github.io/Source Data/"))
Survey = read_csv("planktonsamplingData.csv")
Survey = Survey %>%
mutate(Day = as.numeric(substr(Date, 1, 2)),
Month = as.numeric(substr(Date, 4, 5)),
Year = as.numeric(substr(Date, 7, 10)))
Survey = Survey %>% filter(Year == year & Ground == surv & Survey.No == surv.no)
if(Sample == "Y"){Survey$Sample = "Y"}
if(Sample == "N"){Survey$Sample = "N"}
Plankton = read_csv("PlanktonData.csv")
Plankton = Plankton %>%
mutate(NoRevs = FlowReading2-FlowReading1,
DistanceCalc = NoRevs*26873/1000000,
Volume = DistanceCalc*3.1415)
# remove everything in the workspace
rm(list = ls())
# IMPORTANT : SET GROUND, YEAR, AND SURVEY # HERE
surv="GB" #SB or GB
surv2="German Bank" #"German Bank" or "Scots Bay" as written
year="2023"
surv.no="1"
adhoc = "FALSE" #true or false if an adhoc survey was completed (and "adhoc.csv" exists)
Sample = "Y" #whether ("Y") or not ("N") they caught fish during this survey window
Tow = "Y" #whether or not plankton tow(s) were conducted
#Set vessels for SB only
ids = c("FM", "LB", "LJ", "SL") #only main box vessels
#Area and TS values
SB1= 661 #SB main area
SB2= 77 #SB north area
SB3= 115 #SB east area
GB1 = 805 #GB main area
GB2 = 267 #Seal Island area
GB3 = NA #Ad-hoc school survey area
##
###
##
#BELOW VALUES SHOULD RARELY CHANGE#
TS1 = -35.5 #TS38
#turnover calculation regression values
GB_y = 0.199392662629964
GB_x_var = 0.528381832773883
GB_days = 31
SB_y = 0.364102758434224
SB_x_var = 0.436969270679439
SB_days = 29
library(rlang)
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
##Survey Data import and filtering
setwd(paste0("C:/Users/", Sys.info()[7], "/Documents/GitHub/HerringScience.github.io/Source Data/"))
Survey = read_csv("planktonsamplingData.csv")
Survey = Survey %>%
mutate(Day = as.numeric(substr(Date, 1, 2)),
Month = as.numeric(substr(Date, 4, 5)),
Year = as.numeric(substr(Date, 7, 10)))
Survey = Survey %>% filter(Year == year & Ground == surv & Survey.No == surv.no)
if(Sample == "Y"){Survey$Sample = "Y"}
if(Sample == "N"){Survey$Sample = "N"}
#get Ruskin data
if(Tow == "Y"){
TowData = read_csv(paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.csv"))
}
View(TowData)
TowData$Time = as.POSIXct(TowData$Time)
View(TowData)
TowData = read_csv(paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.csv"))
View(TowData)
TowData$Time = ms(TowData$Time)
TowData = read_csv(paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.csv"))
library(readxl)
?readxl
TowData = excel_sheets(paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"))
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = Data)
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
View(TowData)
View(TowData)
View(TowData)
TowData = TowData %>% dplyr::select(Time = Data, Pressure = '...2', "Sea pressure" = "...3", Depth = "...4")
TowData = TowData[-1,]
TowData$Time = as.POSIXct(TowData$Time)
TowData$Time = as.numeric(TowData$Time)
?as.numeric
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData = TowData %>% dplyr::select(Time = Data, Pressure = '...2', "Sea pressure" = "...3", Depth = "...4")
TowData = TowData[-1,]
TowData$Time = as.Date.character(TowData$Time)
TowData$Time = as.numeric(TowData$Time, length = 15)
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData = TowData %>% dplyr::select(Time = Data, Pressure = '...2', "Sea pressure" = "...3", Depth = "...4")
TowData = TowData[-1,]
TowData$Time = as_date(TowData$Time)
TowData$Time = as_datetime(TowData$Time)
View(TowData)
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData = TowData %>% dplyr::select(Time = Data, Pressure = '...2', "Sea pressure" = "...3", Depth = "...4")
TowData = TowData[-1,]
View(TowData)
TowData$Time = as.numeric(TowData$Time)
View(TowData)
TowData$Time = as.Date(TowData$Time)
TowData$Time = parse_date_time(TowData$Time)
TowData$Time = hms(TowData$Time)
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData = TowData %>% dplyr::select(Time = Data, Pressure = '...2', "Sea pressure" = "...3", Depth = "...4")
TowData = TowData[-1,]
TowData$Time = as.numeric(TowData$Time)
TowData$Time = as.POSIXct(TowData$Time)
TowData$Time = as.POSIXct(TowData$Time, origin = "1970-01-01")
View(TowData)
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData = TowData %>% dplyr::select(Time = Data, Pressure = '...2', "Sea pressure" = "...3", Depth = "...4")
TowData = TowData[-1,]
?read_excel
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData$DateTime = TowData$Time
TowData$Date = substr(TowData$DateTime,1,10)
TowData$Time = substr(TowData$DateTime,12,19)
TowData$Date = as.Date(TowData$Date)
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData$DateTime = TowData$Time
TowData$Date = substr(TowData$DateTime,1,10)
TowData$Date = as.Date(TowData$Date)
TowData$Time = substr(TowData$DateTime,12,19)
TowData$Time = hms(TowData$Time, format="%H:%M:%S")
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData$DateTime = TowData$Time
TowData$Date = substr(TowData$DateTime,1,10)
TowData$Date = as.Date(TowData$Date)
TowData$Time = substr(TowData$DateTime,12,19)
TowData$Time = hms(TowData$DateTime)
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData$DateTime = TowData$Time
TowData$Date = substr(TowData$DateTime,1,10)
TowData$Date = as.Date(TowData$Date)
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData$DateTime = TowData$Time
TowData$Date = substr(TowData$DateTime,1,10)
TowData$Date = as.Date(TowData$Date)
TowData$Time = substr(TowData$DateTime,12,19)
TowData$Time = as.numeric(TowData$Time)
TowData$Time = substr(TowData$DateTime,12,19)
# remove everything in the workspace
rm(list = ls())
# IMPORTANT : SET GROUND, YEAR, AND SURVEY # HERE
surv="GB" #SB or GB
surv2="German Bank" #"German Bank" or "Scots Bay" as written
year="2023"
surv.no="1"
adhoc = "FALSE" #true or false if an adhoc survey was completed (and "adhoc.csv" exists)
Sample = "Y" #whether ("Y") or not ("N") they caught fish during this survey window
Tow = "Y" #whether or not plankton tow(s) were conducted
#Set vessels for SB only
ids = c("FM", "LB", "LJ", "SL") #only main box vessels
#Area and TS values
SB1= 661 #SB main area
SB2= 77 #SB north area
SB3= 115 #SB east area
GB1 = 805 #GB main area
GB2 = 267 #Seal Island area
GB3 = NA #Ad-hoc school survey area
##
###
##
#BELOW VALUES SHOULD RARELY CHANGE#
TS1 = -35.5 #TS38
#turnover calculation regression values
GB_y = 0.199392662629964
GB_x_var = 0.528381832773883
GB_days = 31
SB_y = 0.364102758434224
SB_x_var = 0.436969270679439
SB_days = 29
library(rlang)
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
library(readxl)
##Survey Data import and filtering
setwd(paste0("C:/Users/", Sys.info()[7], "/Documents/GitHub/HerringScience.github.io/Source Data/"))
Survey = read_csv("planktonsamplingData.csv")
Survey = Survey %>%
mutate(Day = as.numeric(substr(Date, 1, 2)),
Month = as.numeric(substr(Date, 4, 5)),
Year = as.numeric(substr(Date, 7, 10)))
Survey = Survey %>% filter(Year == year & Ground == surv & Survey.No == surv.no)
if(Sample == "Y"){Survey$Sample = "Y"}
if(Sample == "N"){Survey$Sample = "N"}
setwd(paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no))
Plankton = read_csv("PlanktonData.csv")
Plankton = Plankton %>%
mutate(NoRevs = FlowReading2-FlowReading1,
DistanceCalc = NoRevs*26873/1000000,
Volume = DistanceCalc*3.1415)
#get Ruskin data
if(Tow == "Y"){
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData$DateTime = TowData$Time
TowData$Date = substr(TowData$DateTime,1,10)
TowData$Date = as.Date(TowData$Date)
TowData$Time = substr(TowData$DateTime,12,19)
TowData = TowData %>%
filter(Time == Plankton$Time1:Plankton$Time2)
}
TowData = read_excel(path = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Surveys/", year, "/", surv, surv.no, "/Ruskin.xlsx"), sheet = 'Data')
TowData$DateTime = TowData$Time
TowData$Date = substr(TowData$DateTime,1,10)
TowData$Date = as.Date(TowData$Date)
TowData$Time = substr(TowData$DateTime,12,19)
