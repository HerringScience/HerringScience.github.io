library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
library(readxl)
library(hms)
library(measurements)
library(ggplot2)
library(maps)
library(dplyr)
library(RColorBrewer)
library(AICcmodavg)
library(datasets)
library(multcompView)
###remove everything in environment
rm(list = ls())
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Tracey's Folder")
Survey_Factors <- read_csv("surveyFactorsAll_Tracey with SSB data.csv")
Survey_Data <- read_csv("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Main Data/Survey Data.csv")
SBJulianAndBiomass <- subset(Survey_Factors, select=c("Survey_Date", "Survey_Area", "Julian", "DFO_Estimate"))
SBJulianAndBiomass <- na.omit(SBJulianAndBiomass)
SBJulianAndBiomass<- subset(SBJulianAndBiomass, Survey_Date < '2023-05-22') #As only one DFO factor for 2023 is in the system, removed to keep years nice.
ScotsBay_Turnover <- subset(JulianAndBiomass, Survey_Area=='SB' )
ScotsBay_Turnover <- subset(SBJulianAndBiomass, Survey_Area=='SB' )
SBPointGraph <- ggplot(ScotsBay_Turnover, aes(Julian, DFO_Estimate)) +geom_smooth() + geom_point()
print(Point_Graph + labs(y = "Survey Biomass (mt)", x = "Julian Day"))
print(SBPointGraph + labs(y = "Survey Biomass (mt)", x = "Julian Day"))
OneWayJB <- aov(DFO_Estimate ~ Julian, data = ScotsBay_Turnover)
summary(OneWayJB)
SBVesselsBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Julian", "DFO_Estimate", "Survey_Area"))
SBVesselsBiomass <- na.omit(SBVesselsBiomass)
SBVesselsBiomass <- subset(SBVesselsBiomass, Survey_Area == "SB", Survey_Date < '2023-05-22')
SBVesselsBiomass$No_of_Vessels <- as.factor(SBVesselsBiomass$No_of_Vessels)
#SBBoxplotVessels <-boxplot(SBVesselsBiomass$DFO_Estimate~SBVesselsBiomass$No_of_Vessels, xlab="Number of Vessels in Survey", ylab="Survey Biomass (mt)")
SBBoxplotVessels <-boxplot(SBVesselsBiomass$DFO_Estimate~SBVesselsBiomass$No_of_Vessels, labs(y="Survey Biomass (mt)", x="Number of Vessels in Survey")
)
SBBoxplotVessels <-boxplot(SBVesselsBiomass$DFO_Estimate~SBVesselsBiomass$No_of_Vessels, xlab="Number of Vessels in Survey", ylab="Survey Biomass (mt)")
SBOneWayVessels <- aov(DFO_Estimate ~ No_of_Vessels, data = SBVesselsBiomass)
summary(SBOneWayVessels)
SurveyAreaTimeTideBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Survey_Area","Year", "Julian", "DFO_Estimate", "Survey_Start", "High_Tide", "Tide_Difference", "Tide_Relative" ))
SurveyAreaTimeTideBiomass <- na.omit(SurveyAreaTimeTideBiomass)
ScotsBayHighTideBiomass <- subset(SurveyAreaTimeTideBiomass, Survey_Area=="SB")
ScotsBayHighTideBiomass <- subset(ScotsBayHighTideBiomass, Survey_Date < '2023-05-22')
ScotsBayHighTideBiomass$Tide_Relative <- as.numeric(ScotsBayHighTideBiomass$Tide_Relative)
SBTideRelativePoint <- ggplot(ScotsBayHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +geom_smooth() + geom_hline(yintercept=mean(ScotsBayHighTideBiomass$DFO_Estimate))
print(SBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start in Hours"))
SBOneWayTideRelative <- aov(DFO_Estimate ~ Tide_Relative, data = ScotsBayHighTideBiomass)
summary(SBOneWayTideRelative)
JulianAndBiomass <- subset(Survey_Factors, select=c("Survey_Date", "Survey_Area", "Julian", "DFO_Estimate"))
JulianAndBiomass <- na.omit(JulianAndBiomass)
JulianAndBiomass<- subset(JulianAndBiomass, Survey_Date < '2023-05-22') #As only one DFO factor for 2023 is in the system, removed to keep years nice.
GermanBankTurnover <- subset(JulianAndBiomass, Survey_Area=='GB' )
boxplot(DFO_Estimate ~ High_Tide, data = GermanBank_HighTideBiomass)
boxplot(DFO_Estimate ~ High_Tide, data = GermanBankHighTideBiomass)
JulianAndBiomass <- subset(Survey_Factors, select=c("Survey_Date", "Survey_Area", "Julian", "DFO_Estimate"))
JulianAndBiomass <- na.omit(JulianAndBiomass)
JulianAndBiomass<- subset(JulianAndBiomass, Survey_Date < '2023-05-22') #As only one DFO factor for 2023 is in the system, removed to keep years nice.
GermanBankTurnover <- subset(JulianAndBiomass, Survey_Area=='GB' )
GBPointGraph <- ggplot(GermanBankTurnover, aes(Julian, DFO_Estimate)) +geom_smooth() + geom_point()
print(GBPointGraph + labs(y = "Survey Biomass (mt)", x = "Julian Day"))
GBOneWayJB <- aov(DFO_Estimate ~ Julian, data = GermanBank_Turnover)
GBOneWayJB <- aov(DFO_Estimate ~ Julian, data = GermanBankTurnover)
summary(GBOneWayJB)
### German Bank Number of Vessels and Survey Biomass
VesselsBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Julian", "DFO_Estimate", "Survey_Area"))
VesselsBiomass <- na.omit(VesselsBiomass)
GBVesselsBiomass <- subset(VesselsBiomass, Survey_Area == "GB", Survey_Date < '2023-05-22')
GBVesselsBiomass$No_of_Vessels <- as.factor(GBVesselsBiomass$No_of_Vessels)
GBBoxplotVessels <-boxplot(GBVesselsBiomass$DFO_Estimate~GBVesselsBiomass$No_of_Vessels, xlab="Number of Vessels in Survey", ylab="Survey Biomass (mt)")
GBOneWayVessels <- aov(DFO_Estimate ~ No_of_Vessels, data = GBVesselsBiomass)
summary(GBOneWayVessels)
###German Bank Survey Area, Julian, Survey Time, High Tide Time, DFO_Estimate
SurveyAreaTimeTideBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Survey_Area","Year", "Julian", "DFO_Estimate", "Survey_Start", "High_Tide", "Tide_Difference", "Tide_Relative" ))
SurveyAreaTimeTideBiomass <- na.omit(GBSurveyAreaTimeTideBiomass)
GermanBankHighTideBiomass <- subset(SurveyAreaTimeTideBiomass, Survey_Area=="GB")
GermanBankHighTideBiomass <- subset(GermanBankHighTideBiomass, Survey_Date < '2023-05-22')
GermanBankHighTideBiomass$Tide_Relative <- as.numeric(GermanBankHighTideBiomass$Tide_Relative)
View(GBVesselsBiomass)
GBTideRelativePoint <- ggplot(GermanBankHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +geom_smooth() + geom_hline(yintercept=mean(GermanBank_HighTideBiomass$DFO_Estimate))
GBTideRelativePoint <- ggplot(GermanBankHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +geom_smooth() + geom_hline(yintercept=mean(GermanBankHighTideBiomass$DFO_Estimate))
print(GBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start (hrs)"))
###remove everything in environment
rm(list = ls())
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Tracey's Folder")
Survey_Factors <- read_csv("surveyFactorsAll_Tracey with SSB data.csv")
Survey_Data <- read_csv("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Main Data/Survey Data.csv")
JulianAndBiomass <- subset(Survey_Factors, select=c("Survey_Date", "Survey_Area", "Julian", "DFO_Estimate"))
JulianAndBiomass <- na.omit(JulianAndBiomass)
JulianAndBiomass<- subset(JulianAndBiomass, Survey_Date < '2023-05-22') #As only one DFO factor for 2023 is in the system, removed to keep years nice.
GermanBankTurnover <- subset(JulianAndBiomass, Survey_Area=='GB' )
GBPointGraph <- ggplot(GermanBankTurnover, aes(Julian, DFO_Estimate)) +geom_smooth() + geom_point()
print(GBPointGraph + labs(y = "Survey Biomass (mt)", x = "Julian Day"))
GBOneWayJB <- aov(DFO_Estimate ~ Julian, data = GermanBankTurnover)
summary(GBOneWayJB)
### German Bank Number of Vessels and Survey Biomass
VesselsBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Julian", "DFO_Estimate", "Survey_Area"))
VesselsBiomass <- na.omit(VesselsBiomass)
GBVesselsBiomass <- subset(VesselsBiomass, Survey_Area == "GB", Survey_Date < '2023-05-22')
GBVesselsBiomass$No_of_Vessels <- as.factor(GBVesselsBiomass$No_of_Vessels)
GBBoxplotVessels <-boxplot(GBVesselsBiomass$DFO_Estimate~GBVesselsBiomass$No_of_Vessels, xlab="Number of Vessels in Survey", ylab="Survey Biomass (mt)")
GBOneWayVessels <- aov(DFO_Estimate ~ No_of_Vessels, data = GBVesselsBiomass)
summary(GBOneWayVessels)
###German Bank Survey Area, Julian, Survey Time, High Tide Time, DFO_Estimate
SurveyAreaTimeTideBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Survey_Area","Year", "Julian", "DFO_Estimate", "Survey_Start", "High_Tide", "Tide_Difference", "Tide_Relative" ))
SurveyAreaTimeTideBiomass <- na.omit(GBSurveyAreaTimeTideBiomass)
###German Bank Survey Area, Julian, Survey Time, High Tide Time, DFO_Estimate
SurveyAreaTimeTideBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Survey_Area","Year", "Julian", "DFO_Estimate", "Survey_Start", "High_Tide", "Tide_Difference", "Tide_Relative" ))
SurveyAreaTimeTideBiomass <- na.omit(SurveyAreaTimeTideBiomass)
GermanBankHighTideBiomass <- subset(SurveyAreaTimeTideBiomass, Survey_Area=="GB")
GermanBankHighTideBiomass <- subset(GermanBankHighTideBiomass, Survey_Date < '2023-05-22')
GermanBankHighTideBiomass$Tide_Relative <- as.numeric(GermanBankHighTideBiomass$Tide_Relative)
GBTideRelativePoint <- ggplot(GermanBankHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +geom_smooth() + geom_hline(yintercept=mean(GermanBankHighTideBiomass$DFO_Estimate))
print(GBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start (hrs)"))
GBSurveyTideDifference.one.way <- aov(DFO_Estimate ~ Tide_Relative, data = GermanBankHighTideBiomass)
summary(GBSurveyTideDifference.one.way)
GBTideBoxplot <- boxplot(DFO_Estimate ~ Tide_Relative, data = GermanBankHighTideBiomass)
GBTideRelativePoint <- ggplot(GermanBankHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +geom_smooth() + geom_hline(yintercept=mean(GermanBankHighTideBiomass$DFO_Estimate))
print(GBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start (hrs)"))
View(Survey_Factors)
###Sunset relative
SunsetData <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate", "Sunset_Relative"))
SunsetData <- na.omit(SunsetData)
###Sunset relative
SunsetData <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate", "Sunset_Relative"))
SunsetData <- na.omit(SunsetData)
SunsetData <- subset(SunsetData,  Survey_Date < '2023-05-22', Survey_Area=="GB")
View(SunsetData)
###Sunset relative
SunsetData <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate", "Sunset_Relative"))
SunsetData <- na.omit(SunsetData)
SunsetData <- subset(SunsetData,  Survey_Date < '2023-05-22')
View(SunsetData)
GermanBankSunsetData <- subset(SunsetData, Survey_Area == "GB")
GBSunsetRelativePoint <- ggplot(GermanBankSunsetData, aes (x=Sunset_Relative, y=DFO_Estimate))+ geom_point(aes(group=Sunset_Relative)) +geom_smooth())
GBSunsetRelativePoint <- ggplot(GermanBankSunsetData, aes (x=Sunset_Relative, y=DFO_Estimate))+ geom_point(aes(group=Sunset_Relative)) +geom_smooth()
library(rlang)
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
library(readxl)
library(hms)
library(measurements)
library(ggplot2)
library(maps)
library(dplyr)
library(RColorBrewer)
library(AICcmodavg)
library(datasets)
library(multcompView)
###remove everything in environment
rm(list = ls())
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Tracey's Folder")
library(rlang)
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
library(readxl)
library(hms)
library(measurements)
library(ggplot2)
library(maps)
library(dplyr)
library(RColorBrewer)
library(AICcmodavg)
library(datasets)
library(multcompView)
###remove everything in environment
rm(list = ls())
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Tracey's Folder")
Survey_Factors <- read_csv("surveyFactorsAll_Tracey with SSB data.csv")
Survey_Data <- read_csv("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Main Data/Survey Data.csv")
JulianAndBiomass <- subset(Survey_Factors, select=c("Survey_Date", "Survey_Area", "Julian", "DFO_Estimate"))
JulianAndBiomass <- na.omit(JulianAndBiomass)
JulianAndBiomass<- subset(JulianAndBiomass, Survey_Date < '2023-05-22') #As only one DFO factor for 2023 is in the system, removed to keep years nice.
GermanBankTurnover <- subset(JulianAndBiomass, Survey_Area=='GB' )
GBPointGraph <- ggplot(GermanBankTurnover, aes(Julian, DFO_Estimate)) +geom_smooth() + geom_point()
print(GBPointGraph + labs(y = "Survey Biomass (mt)", x = "Julian Day"))
GBOneWayJB <- aov(DFO_Estimate ~ Julian, data = GermanBankTurnover)
summary(GBOneWayJB)
### German Bank Number of Vessels and Survey Biomass
VesselsBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Julian", "DFO_Estimate", "Survey_Area"))
VesselsBiomass <- na.omit(VesselsBiomass)
GBVesselsBiomass <- subset(VesselsBiomass, Survey_Area == "GB", Survey_Date < '2023-05-22')
GBVesselsBiomass$No_of_Vessels <- as.factor(GBVesselsBiomass$No_of_Vessels)
GBBoxplotVessels <-boxplot(GBVesselsBiomass$DFO_Estimate~GBVesselsBiomass$No_of_Vessels, xlab="Number of Vessels in Survey", ylab="Survey Biomass (mt)")
GBOneWayVessels <- aov(DFO_Estimate ~ No_of_Vessels, data = GBVesselsBiomass)
summary(GBOneWayVessels)
###German Bank Survey Area, Julian, Survey Time, High Tide Time, DFO_Estimate
SurveyAreaTimeTideBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Survey_Area","Year", "Julian", "DFO_Estimate", "Survey_Start", "High_Tide", "Tide_Difference", "Tide_Relative" ))
SurveyAreaTimeTideBiomass <- na.omit(SurveyAreaTimeTideBiomass)
GermanBankHighTideBiomass <- subset(SurveyAreaTimeTideBiomass, Survey_Area=="GB")
GermanBankHighTideBiomass <- subset(GermanBankHighTideBiomass, Survey_Date < '2023-05-22')
GermanBankHighTideBiomass$Tide_Relative <- as.numeric(GermanBankHighTideBiomass$Tide_Relative)
GBTideRelativePoint <- ggplot(GermanBankHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +geom_smooth() + geom_hline(yintercept=mean(GermanBankHighTideBiomass$DFO_Estimate))
print(GBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start (hrs)"))
GBSurveyTideDifference.one.way <- aov(DFO_Estimate ~ Tide_Relative, data = GermanBankHighTideBiomass)
summary(GBSurveyTideDifference.one.way)
###Sunset Relative
SunsetData <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate", "Sunset_Relative"))
SunsetData <- na.omit(SunsetData)
SunsetData <- subset(SunsetData,  Survey_Date < '2023-05-22')
GermanBankSunsetData <- subset(SunsetData, Survey_Area == "GB")
GBSunsetRelativePoint <- ggplot(GermanBankSunsetData, aes (x=Sunset_Relative, y=DFO_Estimate))+ geom_point(aes(group=Sunset_Relative)) +geom_smooth()
print(GBSunsetRelativePoint)
GermanBankSunsetData$Sunset_Relative <- as.numeric(GermanBankSunsetData$Sunset_Relative)
GBSunsetRelativePoint <- ggplot(GermanBankSunsetData, aes (x=Sunset_Relative, y=DFO_Estimate))+ geom_point(aes(group=Sunset_Relative)) +geom_smooth()
print(GBSunsetRelativePoint)
JulianAndBiomass <- subset(Survey_Factors, select=c("Survey_Date", "Survey_Area", "Julian", "DFO_Estimate"))
JulianAndBiomass <- na.omit(JulianAndBiomass)
JulianAndBiomass<- subset(JulianAndBiomass, Survey_Date < '2023-05-22') #As only one DFO factor for 2023 is in the system, removed to keep years nice.
GermanBankTurnover <- subset(JulianAndBiomass, Survey_Area=='GB' )
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Tracey's Folder")
Survey_Factors <- read_csv("surveyFactorsAll_Tracey with SSB data.csv")
Survey_Data <- read_csv("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Main Data/Survey Data.csv")
JulianAndBiomass <- subset(Survey_Factors, select=c("Survey_Date", "Survey_Area", "Julian", "DFO_Estimate"))
JulianAndBiomass <- na.omit(JulianAndBiomass)
JulianAndBiomass<- subset(JulianAndBiomass, Survey_Date < '2023-05-22') #As only one DFO factor for 2023 is in the system, removed to keep years nice.
GermanBankTurnover <- subset(JulianAndBiomass, Survey_Area=='GB' )
GBPointGraph <- ggplot(GermanBankTurnover, aes(Julian, DFO_Estimate)) +geom_smooth() + geom_point()
print(GBPointGraph + labs(y = "Survey Biomass (mt)", x = "Julian Day"))
GBOneWayJB <- aov(DFO_Estimate ~ Julian, data = GermanBankTurnover)
summary(GBOneWayJB)
### German Bank Number of Vessels and Survey Biomass
VesselsBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Julian", "DFO_Estimate", "Survey_Area"))
VesselsBiomass <- na.omit(VesselsBiomass)
GBVesselsBiomass <- subset(VesselsBiomass, Survey_Area == "GB", Survey_Date < '2023-05-22')
GBVesselsBiomass$No_of_Vessels <- as.factor(GBVesselsBiomass$No_of_Vessels)
GBBoxplotVessels <-boxplot(GBVesselsBiomass$DFO_Estimate~GBVesselsBiomass$No_of_Vessels, xlab="Number of Vessels in Survey", ylab="Survey Biomass (mt)")
GBOneWayVessels <- aov(DFO_Estimate ~ No_of_Vessels, data = GBVesselsBiomass)
summary(GBOneWayVessels)
###German Bank Survey Area, Julian, Survey Time, High Tide Time, DFO_Estimate
SurveyAreaTimeTideBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Survey_Area","Year", "Julian", "DFO_Estimate", "Survey_Start", "High_Tide", "Tide_Difference", "Tide_Relative" ))
SurveyAreaTimeTideBiomass <- na.omit(SurveyAreaTimeTideBiomass)
GermanBankHighTideBiomass <- subset(SurveyAreaTimeTideBiomass, Survey_Area=="GB")
GermanBankHighTideBiomass <- subset(GermanBankHighTideBiomass, Survey_Date < '2023-05-22')
GermanBankHighTideBiomass$Tide_Relative <- as.numeric(GermanBankHighTideBiomass$Tide_Relative)
GBTideRelativePoint <- ggplot(GermanBankHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +geom_smooth() + geom_hline(yintercept=mean(GermanBankHighTideBiomass$DFO_Estimate))
print(GBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start (hrs)"))
GBSurveyTideDifference.one.way <- aov(DFO_Estimate ~ Tide_Relative, data = GermanBankHighTideBiomass)
summary(GBSurveyTideDifference.one.way)
###Sunset Relative
SunsetData <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate", "Sunset_Relative"))
SunsetData <- na.omit(SunsetData)
SunsetData <- subset(SunsetData,  Survey_Date < '2023-05-22')
GermanBankSunsetData <- subset(SunsetData, Survey_Area == "GB")
GermanBankSunsetData$Sunset_Relative <- as.numeric(GermanBankSunsetData$Sunset_Relative)
GBSunsetRelativePoint <- ggplot(GermanBankSunsetData, aes (x=Sunset_Relative, y=DFO_Estimate))+ geom_point(aes(group=Sunset_Relative)) +geom_smooth()
print(GBSunsetRelativePoint)
?aov
GBSunsetOneWayANOVA <- aov(DFO_Estimate ~ Sunset_Relative, data = GBSunsetRelativePoint)
GBSunsetOneWayANOVA <- aov(DFO_Estimate ~ Sunset_Relative, data = GermanBankSunsetData)
summary(GBSunsetOneWayANOVA)
GBSunsetRelativePoint <- ggplot(GermanBankSunsetData, aes (x=Sunset_Relative, y=DFO_Estimate))+ geom_point(aes(group=Sunset_Relative)) +geom_smooth()
print(GBSunsetRelativePoint + labs(y="Survey Biomass", x="Sunset Relative to Survey Start (hrs)"))
PeakBiomass <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate"))
PeakBiomass <- na.omit(PeakBiomass)
PeakBiomass <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate"))
PeakBiomass <- na.omit(PeakBiomass)
PeakBiomass <- subset(SunsetData, Survey_Date < '2023-05-22')
GermanBankPeakBiomass <- subset(PeakBiomass, Survey_Area == "GB")
View(GermanBankPeakBiomass)
PeakBiomass <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate"))
View(PeakBiomass)
PeakBiomass <- na.omit(PeakBiomass)
PeakBiomass <- subset(SunsetData, Survey_Date < '2023-05-22')
GermanBankPeakBiomass <- subset(PeakBiomass, Survey_Area == "GB")
View(GermanBankPeakBiomass)
View(GermanBankSunsetData)
View(GermanBankPeakBiomass)
###remove everything in environment
rm(list = ls())
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Tracey's Folder")
Survey_Factors <- read_csv("surveyFactorsAll_Tracey with SSB data.csv")
Survey_Data <- read_csv("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Main Data/Survey Data.csv")
PeakBiomass <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate"))
PeakBiomass <- na.omit(PeakBiomass)
PeakBiomass <- subset(SunsetData, Survey_Date < '2023-05-22')
GermanBankPeakBiomass <- subset(PeakBiomass, Survey_Area == "GB")
View(GermanBankPeakBiomass)
View(GermanBankPeakBiomass)
GermanBankPeakBiomass1 %>% group_by("Year") %>% slice_max("DFO_Estimate")
GermanBankPeakBiomass1 <- GermanBankPeakBiomass %>% group_by("Year") %>% slice_max("DFO_Estimate")
GermanBankPeakBiomass1 <- GermanBankPeakBiomass %>% group_by(Year) %>% slice_max(DFO_Estimate)
View(GermanBankPeakBiomass1)
GermanBankPeakBiomassPointGraph <- ggplot(GermanBankPeakBiomass, aes(x=Year, y=DFO_Estimate))+ geom_Point(aes(group=Year)) + geom_smooth()
print(GermanBankPeakBiomassPointGraph)
library(rlang)
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
library(readxl)
library(hms)
library(measurements)
library(ggplot2)
library(maps)
library(dplyr)
library(RColorBrewer)
library(AICcmodavg)
library(datasets)
library(multcompView)
###remove everything in environment
rm(list = ls())
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Tracey's Folder")
Survey_Factors <- read_csv("surveyFactorsAll_Tracey with SSB data.csv")
Survey_Data <- read_csv("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Main Data/Survey Data.csv")
JulianAndBiomass <- subset(Survey_Factors, select=c("Survey_Date", "Survey_Area", "Julian", "DFO_Estimate"))
JulianAndBiomass <- na.omit(JulianAndBiomass)
JulianAndBiomass<- subset(JulianAndBiomass, Survey_Date < '2023-05-22') #As only one DFO factor for 2023 is in the system, removed to keep years nice.
ScotsBay_Turnover <- subset(JulianAndBiomass, Survey_Area=='SB' )
SBPointGraph <- ggplot(ScotsBay_Turnover, aes(Julian, DFO_Estimate)) +geom_point() +abline(lm(DFO_Estimate~Julian), col="blue") #+geom_smooth()
SBPointGraph <- ggplot(ScotsBay_Turnover, aes(Julian, DFO_Estimate)) +geom_point() +geom_smooth()
print(SBPointGraph + labs(y = "Survey Biomass (mt)", x = "Julian Day"))
SBPointGraph <- ggplot(ScotsBay_Turnover, aes(Julian, DFO_Estimate)) +geom_point() +abline(lm(DFO_Estimate~Julian), col="blue") +geom_smooth()
fit = lm(DFO_Estimate~ns(Julian, df=1), data = ScotsBay_Turnover)
?ns
abline(lm(ScotsBay_Turnover$DFO_Estimate, ScotsBay_Turnover$Julian, data = Scotsbay_Turnover))
JulianAndBiomass <- subset(Survey_Factors, select=c("Survey_Date", "Survey_Area", "Julian", "DFO_Estimate"))
JulianAndBiomass <- na.omit(JulianAndBiomass)
JulianAndBiomass<- subset(JulianAndBiomass, Survey_Date < '2023-05-22') #As only one DFO factor for 2023 is in the system, removed to keep years nice.
ScotsBay_Turnover <- subset(JulianAndBiomass, Survey_Area=='SB' )
abline(lm(ScotsBay_Turnover$DFO_Estimate, ScotsBay_Turnover$Julian, data = Scotsbay_Turnover))
abline(lm(ScotsBay_Turnover$DFO_Estimate, ScotsBay_Turnover$Julian, data = ScotsBay_Turnover))
SBPointGraph <- ggplot(ScotsBay_Turnover, aes(Julian, DFO_Estimate)) +geom_point() +abline(lm(DFO_Estimate~Julian), col="blue") +geom_smooth()
SBPointGraph <- ggplot(ScotsBay_Turnover, aes(Julian, DFO_Estimate)) +geom_point() +geom_smooth()
abline(lm(ScotsBay_Turnover$DFO_Estimate, ScotsBay_Turnover$Julian, data = Scotsbay_Turnover))
abline(lm(DFO_Estimate, Julian, data = Scotsbay_Turnover))
abline(lm(DFO_Estimate, Julian, data = ScotsBay_Turnover))
?geom_smooth
?loess
SBPointGraph <- ggplot(ScotsBay_Turnover, aes(Julian, DFO_Estimate)) +geom_point() +geom_smooth(loess(DFO_Estimate~Julian, ScotsBay_Turnover))
rlang::last_trace()
rlang::last_trace(drop = FALSE)
SBPointGraph <- ggplot(ScotsBay_Turnover, aes(Julian, DFO_Estimate)) +geom_point() +geom_smooth(loess(DFO_Estimate~Julian, data = ScotsBay_Turnover, span = .75))
rlang::last_trace()
SBPointGraph <- ggplot(ScotsBay_Turnover, aes(Julian, DFO_Estimate)) +geom_point() +geom_smooth()
print(SBPointGraph + labs(y = "Survey Biomass (mt)", x = "Julian Day"))
?loess
###remove everything in environment
rm(list = ls())
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Tracey's Folder")
Survey_Factors <- read_csv("surveyFactorsAll_Tracey with SSB data.csv")
Survey_Data <- read_csv("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Main Data/Survey Data.csv")
JulianAndBiomass <- subset(Survey_Factors, select=c("Survey_Date", "Survey_Area", "Julian", "DFO_Estimate"))
JulianAndBiomass <- na.omit(JulianAndBiomass)
JulianAndBiomass<- subset(JulianAndBiomass, Survey_Date < '2023-05-22') #As only one DFO factor for 2023 is in the system, removed to keep years nice.
ScotsBay_Turnover <- subset(JulianAndBiomass, Survey_Area=='SB' )
fit = lm(DFO_Estimate~ns(Julian, df=1), data = ScotsBay_Turnover)
SBPointGraph <- ggplot(ScotsBay_Turnover, aes(Julian, DFO_Estimate)) +geom_point() +geom_smooth()
print(SBPointGraph + labs(y = "Survey Biomass (mt)", x = "Julian Day"))
OneWayJB <- aov(DFO_Estimate ~ Julian, data = ScotsBay_Turnover)
summary(OneWayJB)
SBVesselsBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Julian", "DFO_Estimate", "Survey_Area"))
SBVesselsBiomass <- na.omit(SBVesselsBiomass)
SBVesselsBiomass <- subset(SBVesselsBiomass, Survey_Area == "SB", Survey_Date < '2023-05-22')
SBVesselsBiomass$No_of_Vessels <- as.factor(SBVesselsBiomass$No_of_Vessels)
SBBoxplotVessels <-boxplot(SBVesselsBiomass$DFO_Estimate~SBVesselsBiomass$No_of_Vessels, xlab="Number of Vessels in Survey", ylab="Survey Biomass (mt)")
SBOneWayVessels <- aov(DFO_Estimate ~ No_of_Vessels, data = SBVesselsBiomass)
summary(SBOneWayVessels)
SurveyAreaTimeTideBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Survey_Area","Year", "Julian", "DFO_Estimate", "Survey_Start", "High_Tide", "Tide_Difference", "Tide_Relative" ))
SurveyAreaTimeTideBiomass <- na.omit(SurveyAreaTimeTideBiomass)
ScotsBayHighTideBiomass <- subset(SurveyAreaTimeTideBiomass, Survey_Area=="SB")
ScotsBayHighTideBiomass <- subset(ScotsBayHighTideBiomass, Survey_Date < '2023-05-22')
ScotsBayHighTideBiomass$Tide_Relative <- as.numeric(ScotsBayHighTideBiomass$Tide_Relative)
SBTideRelativePoint <- ggplot(ScotsBayHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +geom_smooth() + geom_hline(yintercept=mean(ScotsBayHighTideBiomass$DFO_Estimate))
print(SBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start in Hours"))
SBOneWayTideRelative <- aov(DFO_Estimate ~ Tide_Relative, data = ScotsBayHighTideBiomass)
summary(SBOneWayTideRelative)
###Sunset Relative
SunsetData <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate", "Sunset_Relative"))
SunsetData <- na.omit(SunsetData)
SBTideRelativePoint <- ggplot(ScotsBayHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +stat_smooth() + geom_hline(yintercept=mean(ScotsBayHighTideBiomass$DFO_Estimate))
print(SBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start in Hours"))
SBOneWayTideRelative <- aov(DFO_Estimate ~ Tide_Relative, data = ScotsBayHighTideBiomass)
summary(SBOneWayTideRelative)
SBTideRelativePoint <- ggplot(ScotsBayHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +stat_smooth(span = 1) + geom_hline(yintercept=mean(ScotsBayHighTideBiomass$DFO_Estimate))
print(SBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start in Hours"))
SBTideRelativePoint <- ggplot(ScotsBayHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +stat_smooth(span = 6) + geom_hline(yintercept=mean(ScotsBayHighTideBiomass$DFO_Estimate))
print(SBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start in Hours"))
SBTideRelativePoint <- ggplot(ScotsBayHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +stat_smooth(span = 2) + geom_hline(yintercept=mean(ScotsBayHighTideBiomass$DFO_Estimate))
print(SBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start in Hours"))
SBTideRelativePoint <- ggplot(ScotsBayHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +stat_smooth(span = 1) + geom_hline(yintercept=mean(ScotsBayHighTideBiomass$DFO_Estimate))
print(SBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start in Hours"))
SBPointGraph <- ggplot(ScotsBay_Turnover, aes(Julian, DFO_Estimate)) +geom_point() +geom_smooth(span = 1)
print(SBPointGraph + labs(y = "Survey Biomass (mt)", x = "Julian Day"))
SBSunsetRelativePoint <- ggplot(ScotsBaySunsetData, aes (x=Sunset_Relative, y=DFO_Estimate))+ geom_point(aes(group=Sunset_Relative)) +geom_smooth(span = 1)
###Sunset Relative
SunsetData <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate", "Sunset_Relative"))
SunsetData <- na.omit(SunsetData)
SunsetData <- subset(SunsetData,  Survey_Date < '2023-05-22')
ScotsBaySunsetData <- subset(SunsetData, Survey_Area == "SB")
ScotsBaySunsetData$Sunset_Relative <- as.numeric(ScotsBaySunsetData$Sunset_Relative)
SBSunsetRelativePoint <- ggplot(ScotsBaySunsetData, aes (x=Sunset_Relative, y=DFO_Estimate))+ geom_point(aes(group=Sunset_Relative)) +geom_smooth(span = 1)
print(SBSunsetRelativePoint + labs(y="Survey Biomass", x="Sunset Relative to Survey Start (hrs)"))
SBSunsetOneWayANOVA <- aov(DFO_Estimate ~ Sunset_Relative, data = ScotsBaySunsetData)
summary(SBSunsetOneWayANOVA)
###Peak Biomass
PeakBiomass <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate"))
PeakBiomass <- na.omit(PeakBiomass)
PeakBiomass <- subset(PeakBiomass, Survey_Date < '2023-05-22')
ScotsBayPeakBiomass <- subset(PeakBiomass, Survey_Area == "SB")
ScotsBayPeakBiomass <- ScotsBayPeakBiomass %>% group_by(Year) %>% slice_max(DFO_Estimate)
ScotsBayPeakBiomassPointGraph <- ggplot(ScotsBayPeakBiomass, aes(x=Year, y=DFO_Estimate)) + geom_point() + geom_smooth(span = 1)
print(ScotsBayPeakBiomassPointGraph)
SBPeakBiomassANOVA = aov(DFO_Estimate~Year, data = ScotsBayPeakBiomass)
summary(SBPeakBiomassANOVA)
JulianAndBiomass <- subset(Survey_Factors, select=c("Survey_Date", "Survey_Area", "Julian", "DFO_Estimate"))
JulianAndBiomass <- na.omit(JulianAndBiomass)
JulianAndBiomass<- subset(JulianAndBiomass, Survey_Date < '2023-05-22') #As only one DFO factor for 2023 is in the system, removed to keep years nice.
GermanBankTurnover <- subset(JulianAndBiomass, Survey_Area=='GB' )
GBPointGraph <- ggplot(GermanBankTurnover, aes(Julian, DFO_Estimate)) +geom_smooth(span = 1) + geom_point()
print(GBPointGraph + labs(y = "Survey Biomass (mt)", x = "Julian Day"))
GBOneWayJB <- aov(DFO_Estimate ~ Julian, data = GermanBankTurnover)
summary(GBOneWayJB)
### German Bank Number of Vessels and Survey Biomass
VesselsBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Julian", "DFO_Estimate", "Survey_Area"))
VesselsBiomass <- na.omit(VesselsBiomass)
GBVesselsBiomass <- subset(VesselsBiomass, Survey_Area == "GB", Survey_Date < '2023-05-22')
GBVesselsBiomass$No_of_Vessels <- as.factor(GBVesselsBiomass$No_of_Vessels)
GBBoxplotVessels <-boxplot(GBVesselsBiomass$DFO_Estimate~GBVesselsBiomass$No_of_Vessels, xlab="Number of Vessels in Survey", ylab="Survey Biomass (mt)")
GBOneWayVessels <- aov(DFO_Estimate ~ No_of_Vessels, data = GBVesselsBiomass)
summary(GBOneWayVessels)
###German Bank Survey Area, Julian, Survey Time, High Tide Time, DFO_Estimate
SurveyAreaTimeTideBiomass <- subset(Survey_Factors, select=c("Survey_Date", "No_of_Vessels", "Survey_Area","Year", "Julian", "DFO_Estimate", "Survey_Start", "High_Tide", "Tide_Difference", "Tide_Relative" ))
SurveyAreaTimeTideBiomass <- na.omit(SurveyAreaTimeTideBiomass)
GermanBankHighTideBiomass <- subset(SurveyAreaTimeTideBiomass, Survey_Area=="GB")
GermanBankHighTideBiomass <- subset(GermanBankHighTideBiomass, Survey_Date < '2023-05-22')
GermanBankHighTideBiomass$Tide_Relative <- as.numeric(GermanBankHighTideBiomass$Tide_Relative)
GBTideRelativePoint <- ggplot(GermanBankHighTideBiomass, aes(x=Tide_Relative, y=DFO_Estimate)) + geom_point(aes(group= Tide_Relative)) +geom_smooth(span=1) + geom_hline(yintercept=mean(GermanBankHighTideBiomass$DFO_Estimate))
print(GBTideRelativePoint + labs(y="Survey Biomass", x = "Tide Relative to Survey Start (hrs)"))
GBSurveyTideDifference.one.way <- aov(DFO_Estimate ~ Tide_Relative, data = GermanBankHighTideBiomass)
summary(GBSurveyTideDifference.one.way)
###Sunset Relative
SunsetData <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate", "Sunset_Relative"))
SunsetData <- na.omit(SunsetData)
SunsetData <- subset(SunsetData,  Survey_Date < '2023-05-22')
GermanBankSunsetData <- subset(SunsetData, Survey_Area == "GB")
GermanBankSunsetData$Sunset_Relative <- as.numeric(GermanBankSunsetData$Sunset_Relative)
GBSunsetRelativePoint <- ggplot(GermanBankSunsetData, aes (x=Sunset_Relative, y=DFO_Estimate))+ geom_point(aes(group=Sunset_Relative)) +geom_smooth(span=1)
print(GBSunsetRelativePoint + labs(y="Survey Biomass", x="Sunset Relative to Survey Start (hrs)"))
GBSunsetOneWayANOVA <- aov(DFO_Estimate ~ Sunset_Relative, data = GermanBankSunsetData)
summary(GBSunsetOneWayANOVA)
PeakBiomass <- subset(Survey_Factors, select = c("Survey_Date", "Year", "Survey_Area", "DFO_Estimate"))
PeakBiomass <- na.omit(PeakBiomass)
PeakBiomass <- subset(PeakBiomass, Survey_Date < '2023-05-22')
GermanBankPeakBiomass <- subset(PeakBiomass, Survey_Area == "GB")
GermanBankPeakBiomass <- GermanBankPeakBiomass %>% group_by(Year) %>% slice_max(DFO_Estimate)
GermanBankPeakBiomassPointGraph <- ggplot(GermanBankPeakBiomass, aes(x=Year, y=DFO_Estimate)) + geom_point() + geom_smooth(span = 1)
print(GermanBankPeakBiomassPointGraph)
GBPeakBiomassAnova = aov (DFO_Estimate~Year, data=GermanBankPeakBiomass)
print(GermanBankPeakBiomassPointGraph + labs(y="Peak Biomass", x = "Year"))
###remove everything in environment
rm(list = ls())
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Tracey's Folder")
Survey_Factors <- read_csv("surveyFactorsAll_Tracey with SSB data.csv")
Survey_Data <- read_csv("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Main Data/Survey Data.csv")
