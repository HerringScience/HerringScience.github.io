LRP3 = LRP2 %>% mutate(as.numeric(LRP2$Year))
ggplot(data=LRP3, aes(x=Year, y=Scots)) +
geom_point() +
scale_y_continuous(labels=scales::comma) +
theme(axis.text.x = element_text(angle = 55)) +
labs(x="Year", y = "Biomass (mt)")
LRP3 = LRP2 %>% mutate(Year = as.numeric(LRP2$Year))
ggplot(data=LRP3, aes(x=Year, y=Scots)) +
geom_point() +
scale_y_continuous(labels=scales::comma) +
theme(axis.text.x = element_text(angle = 55)) +
labs(x="Year", y = "Biomass (mt)")
LRP3 = LRP2 %>% as.numeric(LRP2$Year)
LRP3 = LRP2
LRP3$Year = as.numeric(LRP3$Year)
ggplot(data=LRP3, aes(x=Year, y=Scots)) +
geom_point() +
scale_y_continuous(labels=scales::comma) +
theme(axis.text.x = element_text(angle = 55)) +
labs(x="Year", y = "Biomass (mt)")
View(LRP2)
#Import all packages, CTD data, and land data
#Packages
setwd(paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Main Data/"))
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
#Tagging Data
Tag = read_csv("TaggingEvents.csv") #Tagging Data
polysT = read_csv("timGrounds.csv") #Coloured ground maps
Tag$Year = as.factor(Tag$Year)
Tag$Vessel = as.factor(Tag$Vessel)
Tag$Survey = as.factor(Tag$Survey)
Tag$Tagger = as.factor(Tag$Tagger)
#CTD Data
SST = read_csv("CTD SST.csv") #SST
polysT = read_csv("timGrounds.csv") #coloured ground maps
CTD = read_csv("CTD Full.csv") #All Data
atDepth = read_csv("CTD 30m.csv") #At 30m Depth > This one contains all Stratified Temp + Salinity data as well
SST$Year <- as.factor(SST$Year)
SST$Month <- as.factor(SST$Month)
atDepth$Year <- as.factor(atDepth$Year)
atDepth$Month <- as.factor(atDepth$Month)
CTD$Year <- as.factor(CTD$Year)
CTD$Month <- as.factor(CTD$Month)
CTD$Survey <- as.factor(CTD$Survey)
CTD <- CTD %>%
mutate(Julian_factor = Julian)
CTD$Julian_factor <- as.factor(CTD$Julian_factor)
#SSB Data
SSB = read_csv("SSB Estimates.csv")
SSB$Year <- as.factor(SSB$Year)
SSB$Survey_Number <- as.factor(SSB$Survey_Number)
SSB$Ground <- as.factor(SSB$Ground)
#LRP Data
LRP2 = read_csv("LRP Data.csv")
#Larval Data
Larval = read_csv("Full Larval.csv")
Larval$Year <- as.factor(Larval$Year)
Larval$category <- as.factor(Larval$category)
Larval$surv.No <- as.factor(Larval$surv.No)
#Land Data
can<-getData('GADM', country="CAN", level=1)
us = getData('GADM', country = "USA", level = 1)
can1 = rbind(can,us)
NBNS <- can1[can1@data$NAME_1%in%c("New Brunswick","Nova Scotia","Prince Edward Island","Newfoundland and Labrador","Québec", "Maine"),]
ggplot(data=LRP2, aes(x=Year, y=Biomass)) +
geom_point(aes(colour="black")) +
geom_path() +
geom_point(data=LRP2, x=LRP2$Year, y=LRP2$'3yr Avg', aes(colour="grey")) +
geom_hline(yintercept = 317846, linetype = "longdash", size =1, aes(colour="red")) +
scale_y_continuous(labels=scales::comma) +
theme(axis.text.x = element_text(angle = 55)) +
labs(x="Year", y = "Biomass (mt)")
ggplot(data=LRP2, aes(x=Year, y=Biomass)) +
geom_point(aes(colour="black")) +
geom_path(aes(colour="red")) +
geom_point(data=LRP2, x=LRP2$Year, y=LRP2$'3yr Avg', aes(colour="grey")) +
geom_hline(yintercept = 317846, linetype = "longdash", size =1, aes(colour="red")) +
scale_y_continuous(labels=scales::comma) +
theme(axis.text.x = element_text(angle = 55)) +
labs(x="Year", y = "Biomass (mt)")
ggplot(data=LRP2, aes(x=Year, y=Biomass)) +
geom_point(aes(colour="black")) +
geom_path(aes(colour="red")) +
geom_point(data=LRP2, x=LRP2$Year, y=LRP2$'3yr Avg', aes(colour="grey")) +
geom_path(data=LRP2, x=LRP2$Year, y=LRP2$'3yr Avg', aes(colour="grey")) +
geom_hline(yintercept = 317846, linetype = "longdash", size =1, aes(colour="red")) +
scale_y_continuous(labels=scales::comma) +
theme(axis.text.x = element_text(angle = 55)) +
labs(x="Year", y = "Biomass (mt)")
ggplot(data=LRP2, aes(x=Year, y=Biomass)) +
geom_point(aes(colour="black")) +
geom_path(aes(colour="black")) +
geom_point(data=LRP2, x=LRP2$Year, y=LRP2$'3yr Avg', aes(colour="grey")) +
geom_path(data=LRP2, x=LRP2$Year, y=LRP2$'3yr Avg', aes(colour="grey")) +
geom_hline(yintercept = 317846, linetype = "longdash", size =1, aes(colour="red")) +
scale_y_continuous(labels=scales::comma) +
theme(axis.text.x = element_text(angle = 55)) +
labs(x="Year", y = "Biomass (mt)")
ggplot(data=LRP2, aes(x=Year, y=Scots)) +
geom_point() +
scale_y_continuous(labels=scales::comma) +
theme(axis.text.x = element_text(angle = 55)) +
labs(x="Year", y = "Biomass (mt)")
ggplot(data=LRP2, aes(x=Year, y=Scots)) +
geom_point() +
geom_path() +
scale_y_continuous(labels=scales::comma) +
theme(axis.text.x = element_text(angle = 55)) +
labs(x="Year", y = "Biomass (mt)")
ggplot(data=LRP2, aes(x=Year, y=German)) +
geom_point() +
geom_path() +
scale_y_continuous(labels=scales::comma) +
theme(axis.text.x = element_text(angle = 55)) +
labs(x="Year", y = "Biomass (mt)")
ggplot(data=LRP2, aes(x=Year, y=Biomass)) +
geom_point(aes(colour="black")) +
geom_path(aes(colour="black")) +
geom_point(data=LRP2, x=LRP2$Year, y=LRP2$'3yr Avg', aes(colour="grey")) +
geom_path(data=LRP2, x=LRP2$Year, y=LRP2$'3yr Avg', aes(colour="grey")) +
geom_hline(yintercept = 317846, linetype = "longdash", size =1, aes(colour="red")) +
scale_y_continuous(labels=scales::comma) +
theme(axis.text.x = element_text(angle = 55)) +
labs(x="Year", y = "Biomass (mt)")
ggplot(data=LRP2, aes(x=Year, y=Biomass)) +
geom_point(aes(colour="black")) +
geom_path(aes(colour="black"))
ggplot(data=LRP2, aes(x=Year, y=Biomass)) +
geom_point(aes(colour=black)) +
geom_path(aes(colour=black))
ggplot(data=LRP2, aes(x=Year, y=Biomass)) +
geom_point() +
geom_path()
ggplot(data=LRP2, aes(x=Year, y=Biomass)) +
geom_point(aes(fill="red")) +
geom_path()
View(LRP2)
ggplot(data=LRP2, aes(x=Year, y=Biomass)) +
geom_point(aes(fill="red"))
Sys.info()[7]
## Global options
year= "2022" #Change global/current year here
knitr::opts_knit$set(root.dir = paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/HTML Markdown/"))
knitr::opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE, fig.align='center')
#Import all packages, CTD data, and land data
#Packages
setwd(paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Main Data/"))
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
#Tagging Data
Tag = read_csv("TaggingEvents.csv") #Tagging Data
polysT = read_csv("timGrounds.csv") #Coloured ground maps
Tag$Year = as.factor(Tag$Year)
Tag$Vessel = as.factor(Tag$Vessel)
Tag$Survey = as.factor(Tag$Survey)
Tag$Tagger = as.factor(Tag$Tagger)
#CTD Data
SST = read_csv("CTD SST.csv") #SST
polysT = read_csv("timGrounds.csv") #coloured ground maps
CTD = read_csv("CTD Full.csv") #All Data
atDepth = read_csv("CTD 30m.csv") #At 30m Depth > This one contains all Stratified Temp + Salinity data as well
SST$Year <- as.factor(SST$Year)
SST$Month <- as.factor(SST$Month)
atDepth$Year <- as.factor(atDepth$Year)
atDepth$Month <- as.factor(atDepth$Month)
CTD$Year <- as.factor(CTD$Year)
CTD$Month <- as.factor(CTD$Month)
CTD$Survey <- as.factor(CTD$Survey)
CTD <- CTD %>%
mutate(Julian_factor = Julian)
CTD$Julian_factor <- as.factor(CTD$Julian_factor)
#SSB Data
SSB = read_csv("SSB Estimates.csv")
SSB$Year <- as.factor(SSB$Year)
SSB$Survey_Number <- as.factor(SSB$Survey_Number)
SSB$Ground <- as.factor(SSB$Ground)
#LRP Data
LRP2 = read_csv("LRP Data.csv")
#Larval Data
Larval = read_csv("Full Larval.csv")
Larval$Year <- as.factor(Larval$Year)
Larval$category <- as.factor(Larval$category)
Larval$surv.No <- as.factor(Larval$surv.No)
#Land Data
can<-getData('GADM', country="CAN", level=1)
us = getData('GADM', country = "USA", level = 1)
can1 = rbind(can,us)
NBNS <- can1[can1@data$NAME_1%in%c("New Brunswick","Nova Scotia","Prince Edward Island","Newfoundland and Labrador","Québec", "Maine"),]
#Import All Boxes
setwd(paste0("C:/Users/", Sys.info()[7],"/Documents/GitHub/HerringScience.github.io/Box Coordinates/"))
boxes = read.csv("surveyBoxes.csv")
# Scots Bay plankton and CTD box
SBplankton=boxes[which(boxes$Box == "SBPlanktonBox"), ]
SBCTD=boxes[which(boxes$Box == "SBocean"), ]
# Scots Bay
SUA = read.csv("polygon_SBEastern.csv")
polyEastern = as.PolySet(SUA, projection="LL")
SUA = read.csv("polygon_SBNorthern.csv")
polyNorthern = as.PolySet(SUA, projection="LL")
SUA = read.csv("polygon_SB.csv")
polySB_main = as.PolySet(SUA, projection="LL")
#German Bank CTD box
GBCTD=boxes[which(boxes$Box == "GBocean"), ]
# German Bank
SUA = read.csv("polygon_GB.csv")
polyGB = as.PolySet(SUA, projection="LL")
# Seal Island
SUA = read.csv("polygon_SI.csv")
polySI = as.PolySet(SUA, projection="LL")
View(Tag)
Tag %>% filter(Year=="2022") %>% group_by(Julian) %>% summarise(n=n()) %>% rename(Tags = n) %>% ggplot(aes(x=Julian, y=Tags)) + geom_line()
Tag %>% filter(Year=="2022") %>% group_by(Julian) %>% summarise(n=n()) %>% rename(Tags = n) %>% ggplot(aes(x=Julian, y=Tags)) + geom_line(colour="green", size=3)
Tag %>% filter(Year=="2022") %>% group_by(Julian) %>% summarise(n=n()) %>% rename(Tags = n) %>% ggplot(aes(x=Julian, y=Tags)) + geom_line(colour="green", size=1)
Tag %>% filter(Year=="2022") %>% group_by(Julian) %>% summarise(n=n()) %>% rename(Tags = n) %>% ggplot(aes(x=Julian, y=Tags)) + geom_line(colour="blu", size=1)
Tag %>% filter(Year=="2022") %>% group_by(Julian) %>% summarise(n=n()) %>% rename(Tags = n) %>% ggplot(aes(x=Julian, y=Tags)) + geom_line(colour="blue", size=1)
rm(list = ls())
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
#Load Data
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Source Data/Fat Data")
Con = read_csv("Connors 2004-2017.csv")
Com1 = read_csv("Comeaus 2005-2010.csv")
Com2 = read_csv("Comeaus 2017.csv")
Com3 = read_csv("Comeaus 2018.csv")
Com4 = read_csv("Comeaus 2020.csv")
Com5 = read_csv("Comeaus 2021.csv")
Com6 = read_csv("Comeaus 2022.csv")
Scotia = read_csv("Scotia Update.csv") #manually adjusted date_time due to missing leading 0's
Unkn = read_csv("Unknown 2007-2013.csv")
#Connors QC / structuring
Con = Con %>% dplyr::select(Date = DATE, Vessel = BOAT, Ground = AREA,
Size4.5 = Size_4.5, Size4.5_5, Size5_6, Size6_7, Size7_8,
Size8_9, Size9_10, Size10_11, Size11_12, Size12 = Size_12, Month) %>%
mutate(Year = substr(Date,1,4))
Con = pivot_longer(data=Con, cols=starts_with("Size"), names_to="Size", names_prefix = "Size", values_to="Fat") %>%
filter(Fat < 40)
#Comeau's QC / structuring
Com2 = Com2 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com2 = pivot_longer(data=Com2, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
Com3 = Com3 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com3 = pivot_longer(data=Com3, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
rm(list = ls())
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Source Data/Fat Data")
Con = read_csv("Connors 2004-2017.csv")
Com1 = read_csv("Comeaus 2005-2010.csv")
Com2 = read_csv("Comeaus 2017.csv")
Com3 = read_csv("Comeaus 2018.csv")
Com4 = read_csv("Comeaus 2020.csv")
Com5 = read_csv("Comeaus 2021.csv")
Com6 = read_csv("Comeaus 2022.csv")
Scotia = read_csv("Scotia Update.csv") #manually adjusted date_time due to missing leading 0's
Unkn = read_csv("Unknown 2007-2013.csv")
#Connors QC / structuring
Con = Con %>% dplyr::select(Date = DATE, Vessel = BOAT, Ground = AREA,
Size4.5 = Size_4.5, Size4.5_5, Size5_6, Size6_7, Size7_8,
Size8_9, Size9_10, Size10_11, Size11_12, Size12 = Size_12, Month) %>%
mutate(Year = substr(Date,1,4))
Con = pivot_longer(data=Con, cols=starts_with("Size"), names_to="Size", names_prefix = "Size", values_to="Fat") %>%
filter(Fat < 40)
#ggplot(data=Con, aes(x=Date, y=Fat, colour=Year)) +
#  geom_boxplot() +
#  labs(y="Fat Percent (%)")
#Comeau's QC / structuring
Com2 = Com2 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com2 = pivot_longer(data=Com2, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
Com3 = Com3 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com3 = pivot_longer(data=Com3, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
Com4 = Com4 %>% dplyr::select(Plant, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com5 = Com5 %>% dplyr::select(Plant, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com6 = Com6 %>% dplyr::select(Plant, CollectionMethod, SampleID, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com7 = left_join(Com6, Com5, by=c("Plant", "Date", "Method", "Vessel", "Lat", "Lon", "Ground", "Fat", "FishLength(cm)", "FishWeight(g)"))
Com6$Lon = as.character(Com6$Lon)
Com7 = left_join(Com6, Com5, by=c("Plant", "Date", "Method", "Vessel", "Lat", "Lon", "Ground", "Fat", "FishLength(cm)", "FishWeight(g)"))
View(Com7)
rm(list = ls())
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Source Data/Fat Data")
Con = read_csv("Connors 2004-2017.csv")
Com1 = read_csv("Comeaus 2005-2010.csv")
Com2 = read_csv("Comeaus 2017.csv")
Com3 = read_csv("Comeaus 2018.csv")
Com4 = read_csv("Comeaus 2020.csv")
Com5 = read_csv("Comeaus 2021.csv")
Com6 = read_csv("Comeaus 2022.csv")
Scotia = read_csv("Scotia Update.csv") #manually adjusted date_time due to missing leading 0's
Unkn = read_csv("Unknown 2007-2013.csv")
#Connors QC / structuring
Con = Con %>% dplyr::select(Date = DATE, Vessel = BOAT, Ground = AREA,
Size4.5 = Size_4.5, Size4.5_5, Size5_6, Size6_7, Size7_8,
Size8_9, Size9_10, Size10_11, Size11_12, Size12 = Size_12, Month) %>%
mutate(Year = substr(Date,1,4))
Con = pivot_longer(data=Con, cols=starts_with("Size"), names_to="Size", names_prefix = "Size", values_to="Fat") %>%
filter(Fat < 40)
#ggplot(data=Con, aes(x=Date, y=Fat, colour=Year)) +
#  geom_boxplot() +
#  labs(y="Fat Percent (%)")
#Comeau's QC / structuring
Com2 = Com2 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com2 = pivot_longer(data=Com2, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
Com3 = Com3 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com3 = pivot_longer(data=Com3, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
Com4 = Com4 %>% dplyr::select(Plant, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com5 = Com5 %>% dplyr::select(Plant, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com6 = Com6 %>% dplyr::select(Plant, CollectionMethod, SampleID, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com6$Lon = as.character(Com6$Lon)
Com7 = full_join(Com6, Com5)
View(Com7)
Com8 = full_join(Com7, Com5)
View(Com8)
rm(list = ls())
#Load Data
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Source Data/Fat Data")
Con = read_csv("Connors 2004-2017.csv")
Com1 = read_csv("Comeaus 2005-2010.csv")
Com2 = read_csv("Comeaus 2017.csv")
Com3 = read_csv("Comeaus 2018.csv")
Com4 = read_csv("Comeaus 2020.csv")
Com5 = read_csv("Comeaus 2021.csv")
Com6 = read_csv("Comeaus 2022.csv")
Scotia = read_csv("Scotia Update.csv") #manually adjusted date_time due to missing leading 0's
Unkn = read_csv("Unknown 2007-2013.csv")
#Connors QC / structuring
Con = Con %>% dplyr::select(Date = DATE, Vessel = BOAT, Ground = AREA,
Size4.5 = Size_4.5, Size4.5_5, Size5_6, Size6_7, Size7_8,
Size8_9, Size9_10, Size10_11, Size11_12, Size12 = Size_12, Month) %>%
mutate(Year = substr(Date,1,4))
Con = pivot_longer(data=Con, cols=starts_with("Size"), names_to="Size", names_prefix = "Size", values_to="Fat") %>%
filter(Fat < 40)
#ggplot(data=Con, aes(x=Date, y=Fat, colour=Year)) +
#  geom_boxplot() +
#  labs(y="Fat Percent (%)")
#Comeau's QC / structuring
Com2 = Com2 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com2 = pivot_longer(data=Com2, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
Com3 = Com3 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com3 = pivot_longer(data=Com3, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
Com4 = Com4 %>% dplyr::select(Plant, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com5 = Com5 %>% dplyr::select(Plant, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com6 = Com6 %>% dplyr::select(Plant, CollectionMethod, SampleID, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com6$Lon = as.character(Com6$Lon)
Com7 = full_join(Com6, Com5)
Com8 = full_join(Com7, Com4)
View(Com8)
Com9 = full_join(Com8, Com3)
View(Com9)
rm(list = ls())
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Source Data/Fat Data")
Con = read_csv("Connors 2004-2017.csv")
Com1 = read_csv("Comeaus 2005-2010.csv")
Com2 = read_csv("Comeaus 2017.csv")
Com3 = read_csv("Comeaus 2018.csv")
Com4 = read_csv("Comeaus 2020.csv")
Com5 = read_csv("Comeaus 2021.csv")
Com6 = read_csv("Comeaus 2022.csv")
Scotia = read_csv("Scotia Update.csv") #manually adjusted date_time due to missing leading 0's
Unkn = read_csv("Unknown 2007-2013.csv")
#Connors QC / structuring
Con = Con %>% dplyr::select(Date = DATE, Vessel = BOAT, Ground = AREA,
Size4.5 = Size_4.5, Size4.5_5, Size5_6, Size6_7, Size7_8,
Size8_9, Size9_10, Size10_11, Size11_12, Size12 = Size_12, Month) %>%
mutate(Year = substr(Date,1,4))
Con = pivot_longer(data=Con, cols=starts_with("Size"), names_to="Size", names_prefix = "Size", values_to="Fat") %>%
filter(Fat < 40)
#ggplot(data=Con, aes(x=Date, y=Fat, colour=Year)) +
#  geom_boxplot() +
#  labs(y="Fat Percent (%)")
#Comeau's QC / structuring
Com2 = Com2 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com2 = pivot_longer(data=Com2, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
Com3 = Com3 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com3 = pivot_longer(data=Com3, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
Com4 = Com4 %>% dplyr::select(Plant, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com5 = Com5 %>% dplyr::select(Plant, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com6 = Com6 %>% dplyr::select(Plant, CollectionMethod, SampleID, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com6$Lon = as.character(Com6$Lon)
Com7 = full_join(Com6, Com5)
Com8 = full_join(Com7, Com4)
Com9 = full_join(Com8, Com3)
Com10 = full_join(Com9, Com2)
Comeau = full_join(Com10, Com1)
?rm
rm(list= c("Com1", "Com2", "Com3", "Com4", "Com5", "Com6", "Com7", "Com8", "Com9", "Com10"))
rm(list = ls())
#Load Data
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Source Data/Fat Data")
Connors = read_csv("Connors 2004-2017.csv")
Com1 = read_csv("Comeaus 2005-2010.csv")
Com2 = read_csv("Comeaus 2017.csv")
Com3 = read_csv("Comeaus 2018.csv")
Com4 = read_csv("Comeaus 2020.csv")
Com5 = read_csv("Comeaus 2021.csv")
Com6 = read_csv("Comeaus 2022.csv")
Scotia = read_csv("Scotia Update.csv") #manually adjusted date_time due to missing leading 0's
Unknown = read_csv("Unknown 2007-2013.csv")
#Connors QC / structuring
Connors = Connors %>% dplyr::select(Date = DATE, Vessel = BOAT, Ground = AREA,
Size4.5 = Size_4.5, Size4.5_5, Size5_6, Size6_7, Size7_8,
Size8_9, Size9_10, Size10_11, Size11_12, Size12 = Size_12, Month) %>%
mutate(Year = substr(Date,1,4))
Connors = pivot_longer(data=Con, cols=starts_with("Size"), names_to="Size", names_prefix = "Size", values_to="Fat") %>%
filter(Fat < 40)
rm(list = ls())
library(cli)
library(lubridate)
library(reprex)
library(tidyverse)
library(geosphere)
library(reshape2)
library(moderndive)
library(skimr)
library(ggridges)
library(weathercan)
library(GGally)
library(psych)
library(raster)
library(PBSmapping)
library(rgeos)
library(knitr)
library(kableExtra)
library(grid)
library(gridExtra)
library(cowplot)
#Load Data
setwd("C:/Users/herri/Documents/GitHub/HerringScience.github.io/Source Data/Fat Data")
Connors = read_csv("Connors 2004-2017.csv")
Com1 = read_csv("Comeaus 2005-2010.csv")
Com2 = read_csv("Comeaus 2017.csv")
Com3 = read_csv("Comeaus 2018.csv")
Com4 = read_csv("Comeaus 2020.csv")
Com5 = read_csv("Comeaus 2021.csv")
Com6 = read_csv("Comeaus 2022.csv")
Scotia = read_csv("Scotia Update.csv") #manually adjusted date_time due to missing leading 0's
Unknown = read_csv("Unknown 2007-2013.csv")
#Connors QC / structuring
Connors = Connors %>% dplyr::select(Date = DATE, Vessel = BOAT, Ground = AREA,
Size4.5 = Size_4.5, Size4.5_5, Size5_6, Size6_7, Size7_8,
Size8_9, Size9_10, Size10_11, Size11_12, Size12 = Size_12, Month) %>%
mutate(Year = substr(Date,1,4))
Connors = pivot_longer(data=Connors, cols=starts_with("Size"), names_to="Size", names_prefix = "Size", values_to="Fat") %>%
filter(Fat < 40)
#ggplot(data=Connors, aes(x=Date, y=Fat, colour=Year)) +
#  geom_boxplot() +
#  labs(y="Fat Percent (%)")
#Comeau's QC / structuring
Com2 = Com2 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com2 = pivot_longer(data=Com2, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
Com3 = Com3 %>% dplyr::select(Plant, Date, Method, Ground = Harvest_Site, Vessel = Boat, Bait = bait, Small = small, Med = med, Large = large)
Com3 = pivot_longer(data=Com3, cols=c("Bait", "Small", "Med", "Large"), names_to="Size", values_to="Fat") %>% filter(Fat > 0)
Com4 = Com4 %>% dplyr::select(Plant, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com5 = Com5 %>% dplyr::select(Plant, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com6 = Com6 %>% dplyr::select(Plant, CollectionMethod, SampleID, Date, Method, Vessel, Lat, Lon, Ground, Fat, "FishLength(cm)", "FishWeight(g)")
Com6$Lon = as.character(Com6$Lon)
Com7 = full_join(Com6, Com5)
Com8 = full_join(Com7, Com4)
Com9 = full_join(Com8, Com3)
Com10 = full_join(Com9, Com2)
Comeau = full_join(Com10, Com1)
rm(list= c("Com1", "Com2", "Com3", "Com4", "Com5", "Com6", "Com7", "Com8", "Com9", "Com10"))
